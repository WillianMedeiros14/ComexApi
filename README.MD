# ComexAPI

## √çndice

- [Sobre o Projeto](#sobre-o-projeto)
- [Tecnologias Utilizadas](#tecnologias-utilizadas)
- [Deploy e Endpoints Dispon√≠veis](#Deploy-e-Endpoints-Dispon√≠veis)
- [Pr√©-requisitos](#pr√©-requisitos)
- [Configura√ß√£o do Ambiente](#configura√ß√£o-do-ambiente)
- [Instala√ß√£o](#instala√ß√£o)
- [Rodando a Aplica√ß√£o](#rodando-a-aplica√ß√£o)
- [Testes Automatizados](#Testes-automatizados)
- [Endpoints da API](#endpoints-da-api)
- [Documenta√ß√£o da API](#documenta√ß√£o-da-api)

---

## Sobre o Projeto üöÄ

**ComexAPI** √© uma aplica√ß√£o backend desenvolvida com **ASP.NET Core** que permite a gest√£o de produtos, clientes e pedidos. A API fornece endpoints para opera√ß√µes CRUD (Criar, Ler, Atualizar, Deletar).

### Funcionalidades

- **Gerenciamento de Produtos**: Cadastro, listagem, edi√ß√£o e remo√ß√£o de produtos.
- **Documenta√ß√£o com Swagger**.

---

## Tecnologias Utilizadas üõ†Ô∏è

As principais tecnologias e bibliotecas utilizadas no projeto incluem:

- **.NET Core 8.0**
- **Entity Framework Core** para intera√ß√£o com o banco de dados.
- **PostgreSQL** como banco de dados.
- **Swagger** para documenta√ß√£o da API.
- **AutoMapper** para mapeamento de objetos.

---

## Deploy e Endpoints Dispon√≠veis üåê

- Est√° aplica√ß√£o tem uma vers√£o que j√° foi realizado o deploy.<br>
  O deploy foi realizado na [Render](https://render.com/) ulilizando a o plano gratuito, por ser o plano gratuito a inst√¢ncia √© compatilhada, ent√£o as vezes quando n√£o tem acesso o link fica hibernando, ent√£o quando acessar e ficar carregando lento, √© s√≥ aguardar que a vai carregar.
- Caso queira visualizar os endpoints assim como testar, aceese o link abaixo:

```bash
https://comexapi.onrender.com/swagger/index.html
```

- o Deploy dessa aplica√ß√£o foi feito ultilizando GitHub Actions. A cada vez que h√° um commit novo na branch main √© relaizao o deploy.

---

## Pr√©-requisitos üìã

Antes de come√ßar, certifique-se de ter o seguinte instalado em seu ambiente:

- [.NET SDK](https://dotnet.microsoft.com/download) (vers√£o 6.0 ou superior)
- [PostgreSQL](https://www.postgresql.org/) configurado
- [Git](https://git-scm.com/) para controle de vers√£o

---

## Configura√ß√£o do Ambiente ‚öôÔ∏è

1. Clone o reposit√≥rio:

   ```bash
   https://github.com/WillianMedeiros14/ComexApi.git
   cd ComexApi
   ```

## Instala√ß√£o üîß

1. Restaurar depend√™ncias:

   ```bash
   dotnet restore
   ```

2. Compilar o projeto:

   ```bash
   dotnet build
   ```

3. Setar as vari√°veis de ambiente:

- Para rodar a aplica√ß√£o em modo de desenvolvimento, use o comando:

- Prompt de Comando ou o PowerShell:<br>
  altere o valor de porta_postegre e suasenha

  ```bash
   set ASPNETCORE_ENVIRONMENT=Development
   set DATABASE_URL="Server=localhost;Port=porta_postegre;Database=produtos;Username=postgres;Password=suasenha"

  ```

- No Linux/macOS:<br>
  altere o valor de porta_postegre e suasenha

  ```bash
   export ASPNETCORE_ENVIRONMENT=Development
   export DATABASE_URL="Server=localhost;Port=porta_postegre;Database=produtos;Username=postgres;Password=suasenha"

  ```

4. Aplicar as migra√ß√µes:

   ```bash
   dotnet ef database update
   ```

## Rodando a Aplica√ß√£o ‚ñ∂Ô∏è

- Execute o comando abaixo:

  ```bash
  dotnet run
  ```

2. A API estar√° dispon√≠vel em http://localhost:5086

## Testes Automatizados üß™

Os testes automatizados foram configurados para garantir que algumas das principais funcionalidades da ComexAPI estejam funcionando corretamente. Neste projeto, existem testes de integra√ß√£o que podem ser executados de maneira simples utilizando o Docker.

1. Certifique-se de que o [Docker](https://docs.docker.com/get-started/get-docker/) esteja instalado e em execu√ß√£o no seu ambiente.
2. Para rodar os testes no [Visual Studio](https://visualstudio.microsoft.com/pt-br/vs/community/), abra o Gerenciador de Testes e execute todos os testes ou os espec√≠ficos que desejar.
3. Se preferir rodar os testes em algum outro editor pela linha de comando, como o [Visual Studio Code](https://code.visualstudio.com/Download) por exemplo, entre na pasta "ComexAPI.Integration.Test" pelo terminal, e execute o seguinte comando:

```bash
 dotnet test
```

### Uso do docker

1. O docker √© ultilizado apenas para processo de deploy e testes altomatizados, desconsiderar para outro uso.

## Endpoints da API üì°

Os endpoints dispon√≠veis podem ser visualizados na url abaixo:

```bash
https://comexapi.onrender.com/swagger/index.html
```

## Documenta√ß√£o da API üìö

A documenta√ß√£o da API √© gerada automaticamente utilizando o Swagger. Ap√≥s rodar o projeto, voc√™ pode acessar a documenta√ß√£o interativa em:

```bash
 http://localhost:5086/swagger
```
